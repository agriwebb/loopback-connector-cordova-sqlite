<!doctype html>
<html class="no-js">
<head>
    <meta charset="utf-8">
    <!--<meta http-equiv="Content-Security-Policy" content="default-src *; style-src 'self' 'unsafe-inline'; script-src 'self' 'unsafe-inline' 'unsafe-eval'">-->
    <title>Todo App</title>

    <!--
  The base allows us to use relative links to resources even when
  this page was served from non-root URL, e.g. '/my/todos'
  -->
    <!--<base href="/">-->

    <meta name="description" content="">
    <meta name="viewport" content="width=device-width">
    <!-- Place favicon.ico and apple-touch-icon.png in the root directory -->

    <!-- build:css(.) styles/vendor.css -->
    <!-- bower:css -->
    <!-- endbower -->
    <!-- endbuild -->

    <!-- build:css(.tmp) styles/main.css -->
    <link rel="stylesheet" href="styles/main.css">
    <!--<link href="lib/ionic/css/ionic.css" rel="stylesheet">-->
    <!--<link href="css/style.css" rel="stylesheet">-->
    <!-- endbuild -->
</head>
<!--<body ng-app="loopbackExampleFullStackApp">-->
<body>

<!-- Add your site or application content here -->
<h1>Welcome to the Todo App</h1>

<div class="header">
    <ul class="navigation">
        <li><a ng-href="/">Home</a></li>
        <li><a ng-href="#/login">Login</a></li>
        <li><a ng-href="#/register">Register</a></li>
    </ul>
</div>

<div ng-view></div>

<!-- ionic/angularjs js -->
<!--<script src="lib/ionic/js/ionic.bundle.js"></script>-->

<!-- cordova script (this will be a 404 during development) -->
<!--<script src="cordova.js"></script>-->


<!-- build:js(.) scripts/vendor.js -->
<!-- bower:js -->
<script src="bower_components/es5-shim/es5-shim.js"></script>
<script src="bower_components/angular/angular.js"></script>
<script src="bower_components/json3/lib/json3.js"></script>
<script src="bower_components/angular-route/angular-route.js"></script>
<!-- endbower -->
<!-- endbuild -->

<!-- build:js({.tmp,ngapp,.}) scripts/scripts.js -->
<!--<script src="lbclient/browser.bundle.js"></script>-->
<!--<script src="scripts/sql-debug.js"></script>-->

<script type="text/javascript" src="scripts/index.js"></script>

<script src="browser.bundle.js"></script>
<script src="config/bundle.js"></script>
<!--<script src="scripts/lefsApp.js"></script>-->

<script type="text/javascript">
    app.initialize();
</script>

<script type="text/javascript">
    //    detect if mobile or desktop

    //    if(window.cordova) { // SEMI GOOD way!

    //    var app = document.URL.indexOf( 'http://' ) === -1 && document.URL.indexOf( 'https://' ) === -1;
    //    if ( app ) { // GOOD WAY

    if (navigator.userAgent.match(/(iPhone|iPod|iPad|Android|BlackBerry|IEMobile)/)) { // GOOD WAY
        document.addEventListener('deviceready', loadScripts, false);
    }
    else {
        loadScripts();
    }

    function loadScripts() {
//        loadjscssfile("myscript.js", "js") //dynamically load and add this .js file
//        loadjscssfile("mystyle.css", "css") ////dynamically load and add this .css file

        setTimeout(function () {
//            loadjscssfile("browser.bundle.js", "js");
//            loadjscssfile("config/bundle.js", "js");
            loadjscssfile("scripts/lefsApp.js", "js");
            loadjscssfile("scripts/services/lbclient.js", "js");
            loadjscssfile("scripts/controllers/home.js", "js");
            loadjscssfile("scripts/controllers/user.js", "js");
            loadjscssfile("scripts/controllers/todo.js", "js");
            loadjscssfile("scripts/controllers/login.js", "js");
            loadjscssfile("scripts/controllers/register.js", "js");
            loadjscssfile("scripts/controllers/change.js", "js");
        }, 0);
    }

    //    Reference: http://www.javascriptkit.com/javatutors/loadjavascriptcss.shtml
    function loadjscssfile(filename, filetype) {
        if (filetype == "js") { //if filename is a external JavaScript file
            var fileref = document.createElement('script')
            fileref.setAttribute("type", "text/javascript");
            fileref.setAttribute("src", filename);
//            fileref.setAttribute("async", false);
            fileref.async = false;
        }
        else if (filetype == "css") { //if filename is an external CSS file
            var fileref = document.createElement("link")
            fileref.setAttribute("rel", "stylesheet");
            fileref.setAttribute("type", "text/css");
            fileref.setAttribute("href", filename);
//            fileref.setAttribute("async", false);
            fileref.async = false;
        }
        if (typeof fileref != "undefined") {
            document.getElementsByTagName("head")[0].appendChild(fileref)
        }
    }
</script>

<!--<script src="scripts/services/lbclient.js"></script>-->
<!--<script src="scripts/controllers/home.js"></script>-->
<!--<script src="scripts/controllers/user.js"></script>-->
<!--<script src="scripts/controllers/todo.js"></script>-->
<!--<script src="scripts/controllers/login.js"></script>-->
<!--<script src="scripts/controllers/register.js"></script>-->
<!--<script src="scripts/controllers/change.js"></script>-->

<!-- endbuild -->
</body>
</html>


